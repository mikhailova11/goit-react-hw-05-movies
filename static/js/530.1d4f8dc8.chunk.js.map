{"version":3,"file":"static/js/530.1d4f8dc8.chunk.js","mappings":"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","sources":["services/filmApi.js","webpack://react-homework-template/./src/views/MovieDetailsPage/MovieDetailsPage.module.css?8c08","views/MovieDetailsPage/MovieDetailsPage.js"],"sourcesContent":["import axios from 'axios';\n\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst KEY = '43826aff38e7e981731c2a4c4f74555d';\n\nasync function fetchWithErrorHandling(url) {\n    try {\n        const response = await axios.get(url);\n        const movies = await response.data;\n        return movies;\n      } catch (error) {\n        alert(`${error}`);\n        return Promise.reject(error);\n      }\n}\n\nexport function fetchPopularFilms() {\n    return fetchWithErrorHandling(`${BASE_URL}trending/all/day?api_key=${KEY}`)\n}\n\nexport function fetchSearchMovies(query) {\n    return fetchWithErrorHandling(`${BASE_URL}search/movie?api_key=${KEY}&language=en-US&page=1&include_adult=false&query=${query}`)  \n}\n\nexport function fetchGetMovieDetails(movieId) {\n    return fetchWithErrorHandling(`${BASE_URL}movie/${movieId}?api_key=${KEY}&language=en-US`) \n}\n\nexport function fetchGetMovieCredits(movieId) {\n    return fetchWithErrorHandling(`${BASE_URL}movie/${movieId}/credits?api_key=${KEY}&language=en-US`) \n}\n\nexport function fetchGetMovieReviews(movieId) {\n    return fetchWithErrorHandling(`${BASE_URL}movie/${movieId}/reviews?api_key=${KEY}&language=en-US&page=1`) \n}\n\n","// extracted by mini-css-extract-plugin\nexport default {\"movieDetails\":\"MovieDetailsPage_movieDetails__5TM0B\",\"movieBox\":\"MovieDetailsPage_movieBox__GguYp\",\"infoBox\":\"MovieDetailsPage_infoBox__nkKWe\",\"title\":\"MovieDetailsPage_title__beq+9\",\"userScore\":\"MovieDetailsPage_userScore__SHx+X\",\"overview\":\"MovieDetailsPage_overview__nnQR5\",\"overviewDescription\":\"MovieDetailsPage_overviewDescription__oB0W2\",\"genres\":\"MovieDetailsPage_genres__GcVUp\",\"additInfo\":\"MovieDetailsPage_additInfo__kqCjH\",\"buttonBox\":\"MovieDetailsPage_buttonBox__yzyv0\",\"genreItem\":\"MovieDetailsPage_genreItem__IxZjr\",\"imageBox\":\"MovieDetailsPage_imageBox__MzW99\",\"linkList\":\"MovieDetailsPage_linkList__GwmLV\",\"link\":\"MovieDetailsPage_link__GbpAo\",\"goBackButton\":\"MovieDetailsPage_goBackButton__Mvsmf\",\"searchIcon\":\"MovieDetailsPage_searchIcon__VqhCm\"};","import s from './MovieDetailsPage.module.css';\nimport {\n  useParams,\n  Link,\n  Outlet,\n  useNavigate,\n  useLocation,\n} from 'react-router-dom';\nimport { IconContext } from 'react-icons';\nimport { useState, useEffect, useRef } from 'react';\nimport { fetchGetMovieDetails } from '../../services/filmApi';\nimport { GoArrowLeft } from 'react-icons/go';\n\nconst MovieDetailsPage = () => {\n  const { id } = useParams();\n  let navigate = useNavigate();\n  const location = useLocation();\n  const [movieDetails, setMovieDetails] = useState(null);\n  const locationHistory = useRef(location);\n\n  useEffect(() => {\n    fetchGetMovieDetails(id).then(setMovieDetails);\n  }, [id]);\n\n  const onClickGoBackButon = () => {\n    navigate(locationHistory?.current?.state?.from || '/');\n  };\n\n  return (\n    movieDetails && (\n      <section className={s.movieDetails}>\n        <div className={s.buttonBox}>\n          <button\n            type=\"butoon\"\n            onClick={onClickGoBackButon}\n            className={s.goBackButton}\n          >\n            <IconContext.Provider value={{ className: `${s.searchIcon}` }}>\n              <GoArrowLeft />\n            </IconContext.Provider>\n            Go Back\n          </button>\n        </div>\n        <div className={s.movieBox}>\n          <div className={s.imageBox}>\n            <img\n              src={\n                movieDetails.poster_path\n                  ? `https://image.tmdb.org/t/p/w300${movieDetails.poster_path}`\n                  : `https://cdn.pixabay.com/photo/2016/03/31/18/36/cinema-1294496_1280.png`\n              }\n              alt={movieDetails.original_title}\n              width=\"300\"\n            />\n          </div>\n          <div className={s.infoBox}>\n            <h1 className={s.title}>{movieDetails.original_title} </h1>\n            <p className={s.userScore}>{`User Score: ${\n              movieDetails.vote_average * 10\n            }%`}</p>\n            <h2 className={s.overview}>Overview</h2>\n            <p className={s.overviewDescription}>{movieDetails.overview}</p>\n            <h3 className={s.genres}>Genres</h3>\n            <p>\n              {movieDetails.genres.map(genre => (\n                <span key={genre.id} className={s.genreItem}>\n                  {genre.name}\n                </span>\n              ))}\n            </p>\n          </div>\n        </div>\n        <div>\n          <h3 className={s.additInfo}>Additional information</h3>\n          <ul className={s.linkList}>\n            <li>\n              <Link className={s.link} to=\"cast\" location={location}>\n                Cast\n              </Link>\n            </li>\n            <li>\n              <Link className={s.link} to=\"reviews\">\n                Reviews\n              </Link>\n            </li>\n          </ul>\n          <Outlet location={location} />\n        </div>\n      </section>\n    )\n  );\n};\n\nexport default MovieDetailsPage;"],"names":["BASE_URL","KEY","fetchWithErrorHandling","url","axios","response","data","movies","alert","Promise","reject","fetchPopularFilms","fetchSearchMovies","query","fetchGetMovieDetails","movieId","fetchGetMovieCredits","fetchGetMovieReviews","id","useParams","navigate","useNavigate","location","useLocation","useState","movieDetails","setMovieDetails","locationHistory","useRef","useEffect","then","className","s","type","onClick","current","state","from","value","src","poster_path","alt","original_title","width","vote_average","overview","genres","map","genre","name","to"],"sourceRoot":""}