{"version":3,"file":"static/js/530.bba3beb1.chunk.js","mappings":"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","sources":["services/filmApi.js","webpack://goit-react-hw-05-movies/./src/views/MovieDetailsPage/MovieDetailsPage.module.css?8c08","views/MovieDetailsPage/MovieDetailsPage.js"],"sourcesContent":["import axios from 'axios';\n\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst KEY = '43826aff38e7e981731c2a4c4f74555d';\n\nasync function fetchWithErrorHandling(url) {\n    try {\n        const response = await axios.get(url);\n        const movies = await response.data;\n        return movies;\n      } catch (error) {\n        alert(`${error}`);\n        console.log(error)\n        return Promise.reject(error);\n      }\n}\n\nexport function fetchPopularFilms() {\n\n    return fetchWithErrorHandling(`${BASE_URL}trending/movie/day?page=1&api_key=${KEY}`)\n}\n\nexport function fetchSearchMovies(query) {\n    return fetchWithErrorHandling(`${BASE_URL}search/movie?api_key=${KEY}&page=1&include_adult=false&query=${query}`)  \n}\n\nexport function fetchGetMovieDetails(id) {\n    return fetchWithErrorHandling(`${BASE_URL}movie/${id}?api_key=${KEY}`);\n  }\n\nexport function fetchGetMovieCredits(id) {\n    return fetchWithErrorHandling(`${BASE_URL}movie/${id}/credits?api_key=${KEY}`) \n}\n\nexport function fetchGetMovieReviews(id) {\n    return fetchWithErrorHandling(`${BASE_URL}movie/${id}/reviews?api_key=${KEY}&page=1`) \n}\n\n","// extracted by mini-css-extract-plugin\nexport default {\"movieDetails\":\"MovieDetailsPage_movieDetails__5TM0B\",\"movieBox\":\"MovieDetailsPage_movieBox__GguYp\",\"infoBox\":\"MovieDetailsPage_infoBox__nkKWe\",\"title\":\"MovieDetailsPage_title__beq+9\",\"overviewDescription\":\"MovieDetailsPage_overviewDescription__oB0W2\",\"userScore\":\"MovieDetailsPage_userScore__SHx+X\",\"overview\":\"MovieDetailsPage_overview__nnQR5\",\"genres\":\"MovieDetailsPage_genres__GcVUp\",\"additInfo\":\"MovieDetailsPage_additInfo__kqCjH\",\"buttonBox\":\"MovieDetailsPage_buttonBox__yzyv0\",\"genreItem\":\"MovieDetailsPage_genreItem__IxZjr\",\"imageBox\":\"MovieDetailsPage_imageBox__MzW99\",\"linkList\":\"MovieDetailsPage_linkList__GwmLV\",\"link\":\"MovieDetailsPage_link__GbpAo\",\"goBackButton\":\"MovieDetailsPage_goBackButton__Mvsmf\",\"searchIcon\":\"MovieDetailsPage_searchIcon__VqhCm\"};","import s from './MovieDetailsPage.module.css';\nimport {\n  useParams,\n  Link,\n  Outlet,\n  useNavigate,\n} from 'react-router-dom';\nimport { IconContext } from 'react-icons';\nimport { useState, useEffect, Suspense } from 'react';\nimport { fetchGetMovieDetails } from '../../services/filmApi';\nimport { GoReply } from 'react-icons/go';\nimport Container from 'components/Container';\nimport { FaSpinner } from 'react-icons/fa';\n\nconst fallbackStyle = {\n    height: '100vh',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    fontSize: 40,\n    color: '#010101'\n  }\n\nconst MovieDetailsPage = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [movieDetails, setMovieDetails] = useState(null);\n  const [error, setError] = useState(null)\n\n  useEffect(() => {\n    async function fetchDetails(id) {\n      try {\n        await fetchGetMovieDetails(id).then(setMovieDetails);\n      } catch (error) {\n        setError(error)\n        console.alert(error.message)\n      }\n    }\n    fetchDetails(id)\n  }, [id, error]);\n\n  return (\n    movieDetails && (\n      <Container className={s.movieDetails}>        \n      <div className={s.buttonBox}>\n      <button\n        type=\"button\"\n        onClick={() => {navigate(-1)}}\n        className={s.goBackButton}\n      >\n        <IconContext.Provider value={{ className: `${s.searchIcon}` }}>\n          <GoReply />\n        </IconContext.Provider>\n      </button>\n    </div>\n    <div className={s.movieBox}>\n      <div className={s.imageBox}>\n        <img\n          src={\n            movieDetails.poster_path\n              ? `https://image.tmdb.org/t/p/w300${movieDetails.poster_path}`\n              : `https://cdn.pixabay.com/photo/2016/03/31/18/36/cinema-1294496_1280.png`\n          }\n          alt={movieDetails.original_title}\n          width=\"280\"\n        />\n      </div>\n      <div className={s.infoBox}>\n        <h1 className={s.title}>{movieDetails.original_title} </h1>\n        <p className={s.userScore}>{`User Score: ${Math.floor(movieDetails.vote_average)}`}</p>\n        <h2 className={s.overview}>Overview</h2>\n        <p className={s.overviewDescription}>{movieDetails.overview}</p>\n        <h3 className={s.genres}>Genres</h3>\n        <p>\n          {movieDetails.genres.map(genre => (\n            <span key={genre.id} className={s.genreItem}>\n              {genre.name}\n            </span>\n          ))}\n        </p>\n      </div>\n    </div>\n    <div>\n      <h3 className={s.additInfo}>Additional information</h3>\n      <ul className={s.linkList}>\n        <li>\n          <Link className={s.link} to=\"cast\">\n            Cast\n          </Link>\n        </li>\n        <li>\n          <Link className={s.link} to=\"reviews\">\n            Reviews\n          </Link>\n        </li>\n      </ul>\n\n  <Suspense fallback={<div style={fallbackStyle}><FaSpinner /></div>}>\n  <Outlet/>\n</Suspense >\n    </div>\n        </Container>\n    )\n  );\n};\n\nexport default MovieDetailsPage;"],"names":["BASE_URL","KEY","fetchWithErrorHandling","url","axios","response","data","movies","alert","console","log","Promise","reject","fetchPopularFilms","fetchSearchMovies","query","fetchGetMovieDetails","id","fetchGetMovieCredits","fetchGetMovieReviews","fallbackStyle","height","display","justifyContent","alignItems","fontSize","color","useParams","navigate","useNavigate","useState","movieDetails","setMovieDetails","error","setError","useEffect","then","message","fetchDetails","Container","className","s","type","onClick","value","src","poster_path","alt","original_title","width","Math","floor","vote_average","overview","genres","map","genre","name","to","Suspense","fallback","style"],"sourceRoot":""}